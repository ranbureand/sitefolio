const canvasHeader=document.querySelector(".canvas-header"),header=document.querySelector(".header");var offset=header.offsetTop;function stickify(){window.pageYOffset>offset?canvasHeader.classList.add("sticky"):canvasHeader.classList.remove("sticky")}stickify(),window.onscroll=function(){stickify()},window.onresize=function(){canvasHeader.classList.remove("sticky"),offset=header.offsetTop,stickify()};var body=document.body,modeSwitch=document.getElementById("mode-switch");let switcher=document.createElement("span"),slider=document.createElement("span");function toggleModeDisplay(e){e.preventDefault();var t="dark"==body.className?"light":"dark";body.className=t;var n=new Date;n.setFullYear(n.getFullYear()+1),document.cookie="mode="+("light"==t?"light":"dark")+"; path=/; Expires="+n+";",console.log(document.cookie)}function isDarkModeSelected(){return null!=document.cookie.match(/mode=dark/i)}function setModeFromCookie(){body.className=isDarkModeSelected()?"dark":"light",console.log(document.cookie)}switcher.classList.add("switch"),slider.classList.add("slider"),switcher.append(slider),modeSwitch.append(switcher),setModeFromCookie();const stalactite=document.querySelector(".canvas-stalactite"),stalagmite=document.querySelector(".canvas-stalagmite");console.log(stalactite),console.log(stalagmite);const pathHeight=8,pathWidth=1024,space=" ",path1stPoint="M0,0 ",path2ndPoint="L1024,0 ",pathLastPoint="Z";function getRandomInt(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function generatePoints(e,t,n,a){let i=[],o=[];for(var s=e;s>=0;s--)i.push(0+Math.round(1024/e*s));return i.forEach((function(e,s){0===s||s===i.length-1?o.push(i[s].toString()+","+getRandomInt(n,a).toString()):o.push(getRandomInt(i[s]-t,i[s]+t).toString()+","+getRandomInt(n,a).toString())})),o}function combinePoints(e){let t=e,n="M0,0 ";return n+="L1024,0 ",t.forEach((function(e,a){n+="L"+t[a]+" "})),n+="Z",n}function createSVG(e,t,n){let a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttribute("class",n),a.setAttribute("fill","none"),a.setAttribute("width",1024),a.setAttribute("height",8),a.setAttribute("preserveAspectRatio","none"),a.setAttribute("viewBox","0 0 1024 8"),a.setAttribute("xmlns","http://www.w3.org/2000/svg");let i=document.createElementNS("http://www.w3.org/2000/svg","path");a.appendChild(i),i.setAttribute("d",e);let o=document.createElementNS("http://www.w3.org/2000/svg","animate");return i.appendChild(o),o.setAttribute("attributeName","d"),o.setAttribute("dur","100ms"),o.setAttribute("fill","freeze"),o.setAttribute("from",e),o.setAttribute("repeatCount","1"),o.setAttribute("to",t),a}function clearSVGs(){document.body.contains(document.getElementsByClassName("stalactite")[0])&&document.getElementsByClassName("stalactite")[0].remove(),document.body.contains(document.getElementsByClassName("stalagmite")[0])&&document.getElementsByClassName("stalagmite")[0].remove()}function prependSVGs(e,t,n,a,i,o,s){stalactite&&stalactite.prepend(createSVG(combinePoints(generatePoints(e,t,n,a)),combinePoints(generatePoints(e,i,o,s)),"stalactite")),stalagmite&&stalagmite.prepend(createSVG(combinePoints(generatePoints(e,t,n,a)),combinePoints(generatePoints(e,i,o,s)),"stalagmite"))}function applySVGByScreenSize(){clearSVGs(),window.matchMedia("(min-width: 75em)").matches?prependSVGs(11,0,0,0,16,0,8):window.matchMedia("(min-width: 60em) and (max-width: 75em)").matches?prependSVGs(9,0,0,0,16,0,8):window.matchMedia("(min-width: 45em) and (max-width: 60em)").matches?prependSVGs(7,0,0,0,16,0,8):window.matchMedia("(min-width: 30em) and (max-width: 45em)").matches?prependSVGs(5,0,0,0,16,0,8):prependSVGs(3,0,0,0,16,0,8)}function debounce(e,t){let n;return function(...a){clearTimeout(n),n=setTimeout((()=>e(...a)),t)}}var article,headings;if(applySVGByScreenSize(),window.addEventListener("resize",debounce(applySVGByScreenSize,100)),null!==(article=document.querySelector(".article-body"))){headings=article.querySelectorAll("h1[id], h2[id], h3[id], h4[id], h5[id], h6[id]");for(var i=0;i<headings.length;i++)headings[i].innerHTML='<a href="#'+headings[i].id+'">'+headings[i].innerHTML+"</a>",console.log("Anchored heading "+headings[i].innerText+" created.")}else headings=null,console.log("No headings created.");const eMail="hello@andreaburan.com";var eLink;const eEnvelope=document.getElementsByClassName("envelope");for(i=0;i<eEnvelope.length;i++)(eLink=document.createElement("a")).setAttribute("href","mailto:"+eMail),eLink.textContent=eMail,eEnvelope[i].prepend(eLink),console.log("Email created.");document.querySelectorAll(".video-content").forEach((function(e){const t=e.hasAttribute("muted"),n=document.createElement("div");n.className="video-controls";const a=document.createElement("div");if(a.className="play paused",a.title="Play/Pause",n.appendChild(a),t){const e=document.createElement("div");e.className="mute",e.title="Mute/Unmute",n.appendChild(e)}e.parentNode.insertBefore(n,e.nextSibling);const i=()=>{e.paused||e.ended?(a.classList.add("paused"),a.classList.remove("played")):(a.classList.add("played"),a.classList.remove("paused"))},o=()=>{e.paused||e.ended?e.play():e.pause(),i()};if(a.addEventListener("click",o),e.addEventListener("click",o),e.addEventListener("play",i),e.addEventListener("pause",i),t){const t=n.querySelector(".mute"),a=()=>{e.muted?(t.classList.add("muted"),t.classList.remove("unmuted")):(t.classList.add("unmuted"),t.classList.remove("muted"))},i=()=>{e.muted=!e.muted,a()};t.addEventListener("click",i),e.addEventListener("volumechange",a),a()}e.controls=!1,i()}));var footnote=document.getElementsByClassName("reversefootnote");for(i=0;i<footnote.length;i++)footnote[i].textContent="Go back ⬏";console.log("Liftoff!");