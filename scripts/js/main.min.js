const canvasHeader=document.querySelector(".canvas-header"),header=document.querySelector(".header");var offset=header.offsetTop;function stickify(){window.pageYOffset>offset?canvasHeader.classList.add("sticky"):canvasHeader.classList.remove("sticky")}stickify(),window.onscroll=function(){stickify()},window.onresize=function(){canvasHeader.classList.remove("sticky"),offset=header.offsetTop,stickify()};var body=document.body,modeSwitch=document.getElementById("mode-switch");let switcher=document.createElement("span"),slider=document.createElement("span");function toggleModeDisplay(e){e.preventDefault();var t="dark"==body.className?"light":"dark";body.className=t;var o=new Date;o.setFullYear(o.getFullYear()+1),document.cookie="mode="+("light"==t?"light":"dark")+"; path=/; Expires="+o+";",console.log(document.cookie)}function isDarkModeSelected(){return null!=document.cookie.match(/mode=dark/i)}function setModeFromCookie(){body.className=isDarkModeSelected()?"dark":"light",console.log(document.cookie)}var article,headings;if(switcher.classList.add("switch"),slider.classList.add("slider"),switcher.append(slider),modeSwitch.append(switcher),setModeFromCookie(),null!==(article=document.querySelector(".article-body"))){headings=article.querySelectorAll("h1[id], h2[id], h3[id], h4[id], h5[id], h6[id]");for(var i=0;i<headings.length;i++)headings[i].innerHTML='<a href="#'+headings[i].id+'">'+headings[i].innerHTML+"</a>",console.log("Anchored heading "+headings[i].innerText+" created.")}else headings=null,console.log("No headings created.");const rootElement=document.documentElement;function getElementPosition(e){let t=(window.pageXOffset||rootElement.scrollLeft)-(rootElement.clientLeft||0),o=(window.pageYOffset||rootElement.scrollTop)-(rootElement.clientTop||0),n=e.getBoundingClientRect();return{x:n.left+t,y:n.top+o}}window.addEventListener("load",(function(){if(""==window.location.hash)return!1;let e=document.querySelector(window.location.hash);if(null!==e){let t=getElementPosition(e);window.scrollTo({top:t.y-margin,behavior:"smooth"}),console.log("Scrolled to the element "+window.location.hash+".")}}),!1);const anchors=document.querySelectorAll('a[href^="#"]:not(#mode-switch)'),margin=96;anchors.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault();let t=this.getAttribute("href").replace(":","\\:"),o=document.querySelector(t);if(null!==o){let e=getElementPosition(o),i=new URL(document.URL);i.hash=t;var n=i.href;document.location.href=n,console.log("URL changed to "+n),window.scrollTo({top:e.y-margin,behavior:"smooth"}),console.log("Scrolled to the element "+t+".")}}))}));const eMail="hello@andreaburan.com";var eLink;const eEnvelope=document.getElementsByClassName("envelope");for(i=0;i<eEnvelope.length;i++)(eLink=document.createElement("a")).setAttribute("href","mailto:"+eMail),eLink.textContent=eMail,eEnvelope[i].prepend(eLink),console.log("Email created.");document.querySelectorAll(".video-content").forEach((function(e){const t=e.hasAttribute("muted"),o=document.createElement("div");o.className="video-controls";const n=document.createElement("div");if(n.className="play paused",n.title="Play/Pause",o.appendChild(n),t){const e=document.createElement("div");e.className="mute",e.title="Mute/Unmute",o.appendChild(e)}e.parentNode.insertBefore(o,e.nextSibling);const i=()=>{e.paused||e.ended?(n.classList.add("paused"),n.classList.remove("played")):(n.classList.add("played"),n.classList.remove("paused"))},a=()=>{e.paused||e.ended?e.play():e.pause(),i()};if(n.addEventListener("click",a),e.addEventListener("click",a),e.addEventListener("play",i),e.addEventListener("pause",i),t){const t=o.querySelector(".mute"),n=()=>{e.muted?(t.classList.add("muted"),t.classList.remove("unmuted")):(t.classList.add("unmuted"),t.classList.remove("muted"))},i=()=>{e.muted=!e.muted,n()};t.addEventListener("click",i),e.addEventListener("volumechange",n),n()}e.controls=!1,i()}));var footnote=document.getElementsByClassName("reversefootnote");for(i=0;i<footnote.length;i++)footnote[i].textContent="Go back ⬏";console.log("Liftoff!");